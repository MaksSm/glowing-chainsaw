<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style type="text/css">

		.a {
			text-decoration: none;
   			border-radius: 10px;
   			color: #36454A;
   			background: -webkit-linear-gradient(top, #A4D3E0, #A4D3E0 50%, #CBE3EB 50%);
   			background: -o-linear-gradient(top, #A4D3E0, #A4D3E0 50%, #CBE3EB 50%);
  			background: linear-gradient(to top, #A4D3E0, #A4D3E0 50%, #CBE3EB 50%);
   			box-shadow: 5px 5px 6px black;
		}
		.a:hover {
			text-decoration: underline;
   			background: -webkit-linear-gradient(bottom, #A4D3E0, #A4D3E0 50%, #CBE3EB 50%);
   			background: -o-linear-gradient(bottom, #A4D3E0, #A4D3E0 50%, #CBE3EB 50%);
   			background: linear-gradient(to bottom, #A4D3E0, #A4D3E0 50%, #CBE3EB 50%);
		}
	</style>
</head>
<body>
	<div class="card-container"></div>
	<div class="link-container">
		<a class="a" href="#" id="prev">Previous</a>
		<a class="a" href="#" id="next">Next</a>
	</div>
	<script>
		let allCharacters = [];

		const $card_container = document.querySelector('.card-container');
		const $prev = document.getElementById('prev');
		const $next = document.getElementById('next');

		const createPeople = (people) => {
				const $div = document.createElement('div');
				$div.classList.add('card');
				$div.dataset.id = people.id;

				const $heading = document.createElement('h2');
				$heading.classList.add('name');
				$heading.textContent = people.name;

				$div.append($heading);
				console.log($div)

				return $div;
		}

		const addPeople = (array) => {
			array.forEach(peopleObject => {
				const $peopleDiv = createPeople(peopleObject)
				$card_container.append( $peopleDiv )
			})
		}

		const getPeople = (url) => {
			const request = fetch(url, {
				method: 'GET'
			});
			request
				.then(res => res.json())
				.then(res => {
					console.log(res);
					if (res.next) {
						$next.hidden = false;
						$next.href = res.next
					} else {
						$next.hidden = true;
					}
					if (res.previous) {
						$prev.hidden = false;
						$prev.href = res.previous;
					} else {
						$prev.hidden = true
					}

					const peoples = res.results;
					allPeoples = res.results;
					console.log(peoples);

					addPeople(peoples)
				})
		}
		getPeople('https://swapi.dev/api/people');

		const getOtherPeoples = (event) => {
			event.preventDefault();

			$card_container.innerHTML = '';
			getPeople(event.target.href);
		}
		$next.addEventListener('click', getOtherPeoples);
		$prev.addEventListener('click', getOtherPeoples);
	</script>
</body>
</html>